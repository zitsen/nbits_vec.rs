<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `NbitsVec` struct in crate `nbits_vec`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, NbitsVec">

    <title>nbits_vec::NbitsVec - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='index.html'>nbits_vec</a></p><script>window.sidebarCurrent = {name: 'NbitsVec', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>nbits_vec</a>::<wbr><a class='struct' href=''>NbitsVec</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a id='src-619' class='srclink' href='../src/nbits_vec/src/lib.rs.html#108-112' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct NbitsVec&lt;T:&nbsp;<a class='trait' href='../nbits_vec/value/trait.Value.html' title='nbits_vec::value::Value'>Value</a>&gt; {
    // some fields omitted
}</pre><div class='docblock'><p>Implement vector contains small <code>N</code>-bits values using <code>T::Block</code> as unit
buffer.</p>

<p>The <code>N</code> is an <a href="https://crates.io/crates/typenum">typenum</a> which is nonzero and smaller than the size of <code>T::Block</code>.
The <code>T::Block</code> is a <code>PrimInt</code> - primitive iterger type, we expect as <code>Unsigned</code>,
suck as <code>u8</code>, <code>u32</code>, <code>u64</code>, but it&#39;s ok to use <code>i32</code>,<code>i64</code>,etc.</p>

<p>According to the benchmarks, we sugguest that:</p>

<ul>
<li>Use exact size <code>T::Block</code>, means to use <code>u8</code>, <code>u64</code>, not <code>usize</code>.</li>
<li>Prefer <code>u64</code> in an long vector.</li>
<li>Prefer <code>u8</code> in an short vector.</li>
<li>Prefer <code>u64</code>/<code>u32</code> than <code>u8</code> if cares <code>insert</code>/<code>remove</code>.</li>
<li>Anytime ignore the <code>u16</code> from your choise unless you really want it.</li>
</ul>

<p>Note that the result only based on my machine.
Anyone is welcome for sugguestions to use.</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>extern</span> <span class='kw'>crate</span> <span class='ident'>nbits_vec</span> <span class='kw'>as</span> <span class='ident'>nbits_vec</span>;
<span class='kw'>use</span> <span class='ident'>nbits_vec</span>::<span class='ident'>NbitsVec</span>;
<span class='kw'>use</span> <span class='ident'>nbits_vec</span>::<span class='ident'>consts</span>::<span class='ident'>N2B64</span> <span class='kw'>as</span> <span class='ident'>N2</span>;
<span class='kw'>type</span> <span class='ident'>NVec</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span>;
<span class='kw'>fn</span> <span class='ident'>main</span>() {
    <span class='comment'>// News.</span>
    <span class='kw'>let</span> _ <span class='op'>=</span> <span class='ident'>NVec</span>::<span class='ident'>with_capacity</span>(<span class='number'>5</span>);
    <span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>vec</span> <span class='op'>=</span> <span class='ident'>NVec</span>::<span class='ident'>new</span>();
    <span class='comment'>// Pushes and pops.</span>
    <span class='ident'>vec</span>.<span class='ident'>push</span>(<span class='number'>0b11</span>);
    <span class='ident'>vec</span>.<span class='ident'>push</span>(<span class='number'>0b10</span>);
    <span class='kw'>let</span> <span class='ident'>val</span> <span class='op'>=</span> <span class='ident'>vec</span>.<span class='ident'>pop</span>();
    <span class='comment'>// Resizes and reserves.</span>
    <span class='ident'>vec</span>.<span class='ident'>resize</span>(<span class='number'>10</span>, <span class='number'>0b01</span>);
    <span class='ident'>vec</span>.<span class='ident'>reserve</span>(<span class='number'>12</span>);
    <span class='macro'>assert</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>capacity</span>() <span class='op'>&gt;=</span> <span class='number'>10</span> <span class='op'>+</span> <span class='number'>12</span>);
    <span class='comment'>// Gets and sets.</span>
    <span class='ident'>vec</span>.<span class='ident'>set</span>(<span class='number'>7</span>, <span class='number'>0b10</span>);
    <span class='kw'>let</span> _ <span class='op'>=</span> <span class='ident'>vec</span>.<span class='ident'>get</span>(<span class='number'>7</span>);
    <span class='comment'>// Inserts and removes.</span>
    <span class='ident'>vec</span>.<span class='ident'>insert</span>(<span class='number'>4</span>, <span class='number'>0b01</span>);
    <span class='kw'>let</span> _ <span class='op'>=</span> <span class='ident'>vec</span>.<span class='ident'>remove</span>(<span class='number'>4</span>);
    <span class='comment'>// Fills `8` values from `2` as `0b11`.</span>
    <span class='ident'>vec</span>.<span class='ident'>fill</span>(<span class='number'>2</span>, <span class='number'>8</span>, <span class='number'>0b11</span>);
}</pre>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><span class='in-band'><code>impl&lt;T:&nbsp;<a class='trait' href='../nbits_vec/value/trait.ValueExt.html' title='nbits_vec::value::ValueExt'>ValueExt</a>&gt; <a class='struct' href='../nbits_vec/struct.NbitsVec.html' title='nbits_vec::NbitsVec'>NbitsVec</a>&lt;T&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a id='src-624' class='srclink' href='../src/nbits_vec/src/lib.rs.html#114-1149' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.new' class='method'><code>fn <a href='#method.new' class='fnname'>new</a>() -&gt; Self</code></h4>
<div class='docblock'><p>Constructs a new, empty NbitsVec<N></p>

<p>The vector will not allocate until elements are pushed onto it.</p>

<h1 id='examples-1' class='section-header'><a href='#examples-1'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>new</span>();</pre>

<h1 id='panics' class='section-header'><a href='#panics'>Panics</a></h1>
<p>Constructor will panic if the <code>T::Block</code> unit bits is smaller than <code>N</code>bits.
This should panic in <code>new</code>, <code>with_capacity</code>, <code>from_raw_parts</code> methods.</p>
</div><h4 id='method.with_capacity' class='method'><code>fn <a href='#method.with_capacity' class='fnname'>with_capacity</a>(capacity: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>) -&gt; Self</code></h4>
<div class='docblock'><p>Constructs a new, empty Vec<N> with the specified capacity.</p>

<p>The vector will be able to hold exactly capacity elements without reallocating. If capacity
is 0, the vector will not allocate.</p>

<p>It is important to note that this function does not specify the length of the returned
vector, but only the capacity.</p>

<h1 id='examples-2' class='section-header'><a href='#examples-2'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>with_capacity</span>(<span class='number'>10</span>);
<span class='macro'>assert</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>capacity</span>() <span class='op'>&gt;=</span> <span class='number'>10</span>);</pre>
</div><h4 id='method.from_raw_parts' class='method'><code>unsafe fn <a href='#method.from_raw_parts' class='fnname'>from_raw_parts</a>(ptr: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.pointer.html'>*mut T::Block</a>, length: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, capacity: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>) -&gt; Self</code></h4>
<div class='docblock'><p>Constructs a <code>NbitsVec&lt;T&gt;</code> directly from the raw components of another vector,
like <a href="https://doc.rust-lang.org/std/vec/struct.Vec.html#method.from_raw_parts">standard Vec</a> does.</p>

<h1 id='safety' class='section-header'><a href='#safety'>Safety</a></h1>
<p>This is highly unsafe, due to the number of invariants that aren&#39;t checked:</p>

<ul>
<li><code>ptr</code> needs to have been previously allocated via <code>Vec&lt;T&gt;/NbitsVec&lt;T&gt;</code>.</li>
<li><code>length</code> needs to be the length that less than or equal to <code>capacity</code>.</li>
<li><code>capacity</code> needs to be the <code>capacity</code> as a <code>NbitsVec&lt;T&gt;</code>, not the size that
the pointer was allocated with.</li>
</ul>

<h1 id='examples-3' class='section-header'><a href='#examples-3'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>std</span>::<span class='ident'>mem</span>;
<span class='kw'>fn</span> <span class='ident'>main</span>() {
    <span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>v</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>with_capacity</span>(<span class='number'>10</span>);
    <span class='ident'>v</span>.<span class='ident'>push</span>(<span class='number'>1</span>); <span class='ident'>v</span>.<span class='ident'>push</span>(<span class='number'>2</span>); <span class='ident'>v</span>.<span class='ident'>push</span>(<span class='number'>3</span>);
    <span class='kw'>let</span> <span class='ident'>p</span> <span class='op'>=</span> <span class='ident'>v</span>.<span class='ident'>raw_mut_ptr</span>();
    <span class='kw'>let</span> <span class='ident'>len</span> <span class='op'>=</span> <span class='ident'>v</span>.<span class='ident'>len</span>();
    <span class='kw'>let</span> <span class='ident'>cap</span> <span class='op'>=</span> <span class='ident'>v</span>.<span class='ident'>capacity</span>();
    <span class='kw'>unsafe</span> {
        <span class='ident'>mem</span>::<span class='ident'>forget</span>(<span class='ident'>v</span>);
        <span class='kw'>let</span> <span class='ident'>rebuilt</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>from_raw_parts</span>(<span class='ident'>p</span>, <span class='ident'>len</span>, <span class='ident'>cap</span>);
        <span class='macro'>assert</span><span class='macro'>!</span>(<span class='ident'>cap</span> <span class='op'>==</span> <span class='ident'>rebuilt</span>.<span class='ident'>capacity</span>());
    }
}</pre>
</div><h4 id='method.capacity' class='method'><code>fn <a href='#method.capacity' class='fnname'>capacity</a>(&amp;self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a></code></h4>
<div class='docblock'><p>Returns the number of elements the vector can hold without reallocating.</p>

<h1 id='examples-4' class='section-header'><a href='#examples-4'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='ident'>v</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N1</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>with_capacity</span>(<span class='number'>10</span>);
<span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;{:?}&quot;</span>, <span class='ident'>v</span>);
<span class='macro'>assert</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>capacity</span>() <span class='op'>&gt;=</span> <span class='number'>10</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>capacity</span>(), <span class='number'>64</span>);</pre>
</div><h4 id='method.reserve' class='method'><code>fn <a href='#method.reserve' class='fnname'>reserve</a>(&amp;mut self, additional: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>)</code></h4>
<div class='docblock'><p>Reserves capacity for at least additional more elements to be inserted in the given
NbitsVec<N>.
The collection may reserve more space to avoid frequent reallocations.</p>

<h1 id='panics-1' class='section-header'><a href='#panics-1'>Panics</a></h1>
<p>Panics if the new capacity overflows usize.</p>

<h1 id='examples-5' class='section-header'><a href='#examples-5'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>v</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>new</span>();
<span class='macro'>assert</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>capacity</span>() <span class='op'>==</span> <span class='number'>0</span>);
<span class='ident'>v</span>.<span class='ident'>reserve</span>(<span class='number'>100</span>);
<span class='macro'>assert</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>capacity</span>() <span class='op'>&gt;=</span> <span class='number'>100</span>);</pre>
</div><h4 id='method.reserve_exact' class='method'><code>fn <a href='#method.reserve_exact' class='fnname'>reserve_exact</a>(&amp;mut self, additional: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>)</code></h4>
<div class='docblock'><p>Reserves the minimum capacity for exactly additional more elements to be inserted in the
given <code>NbitsVec&lt;N&gt;</code>. Does nothing if the capacity is already sufficient.</p>

<h1 id='panics-2' class='section-header'><a href='#panics-2'>Panics</a></h1>
<p>Panics if the new capacity overflows usize.</p>

<h1 id='examples-6' class='section-header'><a href='#examples-6'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>nbits_vec</span>::<span class='op'>*</span>;
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>v</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>new</span>();
<span class='macro'>assert</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>capacity</span>() <span class='op'>==</span> <span class='number'>0</span>);
<span class='ident'>v</span>.<span class='ident'>reserve_exact</span>(<span class='number'>64</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>capacity</span>(), <span class='number'>64</span>);
<span class='ident'>v</span>.<span class='ident'>reserve_exact</span>(<span class='number'>127</span>);
<span class='macro'>assert</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>capacity</span>() <span class='op'>&gt;=</span> <span class='number'>127</span>);
<span class='ident'>v</span>.<span class='ident'>reserve_exact</span>(<span class='number'>128</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>capacity</span>(), <span class='number'>128</span>);</pre>
</div><h4 id='method.shrink_to_fit' class='method'><code>fn <a href='#method.shrink_to_fit' class='fnname'>shrink_to_fit</a>(&amp;mut self)</code></h4>
<div class='docblock'><p>Shrinks the capacity of the vector as much as possible.</p>

<p>It will drop down as close as possible to the length but the allocator may still inform the
vector that there is space for a few more elements.</p>

<h1 id='examples-7' class='section-header'><a href='#examples-7'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>with_capacity</span>(<span class='number'>10</span>);
<span class='ident'>vec</span>.<span class='ident'>shrink_to_fit</span>();
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>capacity</span>(), <span class='number'>0</span>);</pre>
</div><h4 id='method.truncate' class='method'><code>fn <a href='#method.truncate' class='fnname'>truncate</a>(&amp;mut self, len: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>)</code></h4>
<div class='docblock'><p>Shorten a vector to be <code>len</code> elements long, dropping excess elements.</p>

<p>If <code>len</code> is greater than the vector&#39;s current length, this has no effect.</p>

<h1 id='examples-8' class='section-header'><a href='#examples-8'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>with_capacity</span>(<span class='number'>2</span>);
<span class='kw'>unsafe</span> { <span class='ident'>vec</span>.<span class='ident'>set_len</span>(<span class='number'>2</span>) }
<span class='ident'>vec</span>.<span class='ident'>truncate</span>(<span class='number'>3</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>len</span>(), <span class='number'>2</span>);
<span class='ident'>vec</span>.<span class='ident'>truncate</span>(<span class='number'>1</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>len</span>(), <span class='number'>1</span>);</pre>
</div><h4 id='method.set_len' class='method'><code>unsafe fn <a href='#method.set_len' class='fnname'>set_len</a>(&amp;mut self, len: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>)</code></h4>
<div class='docblock'><p>Sets the length of a vector.</p>

<p>This will explicitly set the size of the vector, without actually modifying its buffers or
reserving additional capacity as needed, so it is up to the caller to ensure that the vector
is actually the specified size.</p>

<p>Recommend to use <a href="#method.resize">resize()</a> when you actually want to <code>resize</code> the vector.</p>

<h1 id='examples-9' class='section-header'><a href='#examples-9'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>v</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>new</span>();
<span class='kw'>unsafe</span> {
    <span class='ident'>v</span>.<span class='ident'>set_len</span>(<span class='number'>3</span>);
}</pre>
</div><h4 id='method.insert' class='method'><code>fn <a href='#method.insert' class='fnname'>insert</a>(&amp;mut self, index: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, element: T::Block)</code></h4>
<div class='docblock'>
<h1 id='examples-10' class='section-header'><a href='#examples-10'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>v</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>new</span>();
<span class='ident'>v</span>.<span class='ident'>push</span>(<span class='number'>0b01</span>);
<span class='ident'>v</span>.<span class='ident'>push</span>(<span class='number'>0b10</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>len</span>(), <span class='number'>2</span>);
<span class='ident'>v</span>.<span class='ident'>insert</span>(<span class='number'>1</span>, <span class='number'>0b11</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>get</span>(<span class='number'>1</span>), <span class='number'>0b11</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>get</span>(<span class='number'>2</span>), <span class='number'>0b10</span>);</pre>
</div><h4 id='method.remove' class='method'><code>fn <a href='#method.remove' class='fnname'>remove</a>(&amp;mut self, index: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>) -&gt; T::Block</code></h4>
<div class='docblock'><p>Removes and returns the element at position <code>index</code> within the vector, shifting all elements
after position <code>index</code> one position to the left.</p>

<h1 id='panics-3' class='section-header'><a href='#panics-3'>Panics</a></h1>
<p>Panics if <code>index</code> is out of bounds.</p>

<h1 id='examples-11' class='section-header'><a href='#examples-11'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>v</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>new</span>();
<span class='ident'>v</span>.<span class='ident'>push</span>(<span class='number'>0b01</span>);
<span class='ident'>v</span>.<span class='ident'>push</span>(<span class='number'>0b10</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>remove</span>(<span class='number'>0</span>), <span class='number'>0b01</span>);</pre>
</div><h4 id='method.swap_remove' class='method'><code>fn <a href='#method.swap_remove' class='fnname'>swap_remove</a>(&amp;mut self, index: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>) -&gt; T::Block</code></h4>
<div class='docblock'><p>Removes an element from anywhere in the vector and return it, replacing it with the last
element.</p>

<h1 id='panics-4' class='section-header'><a href='#panics-4'>Panics</a></h1>
<p>Panics if <code>index</code> is out of bounds.
Panics if vector is empty.</p>

<h1 id='examples-12' class='section-header'><a href='#examples-12'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>v</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>new</span>();
<span class='ident'>v</span>.<span class='ident'>push</span>(<span class='number'>0b01</span>);
<span class='ident'>v</span>.<span class='ident'>push</span>(<span class='number'>0b10</span>);
<span class='ident'>v</span>.<span class='ident'>push</span>(<span class='number'>0b11</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>len</span>(), <span class='number'>3</span>);
<span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;{:?}&quot;</span>, <span class='ident'>v</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>swap_remove</span>(<span class='number'>0</span>), <span class='number'>0b01</span>);
<span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;{:?}&quot;</span>, <span class='ident'>v</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>len</span>(), <span class='number'>2</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>get</span>(<span class='number'>0</span>), <span class='number'>0b11</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>get</span>(<span class='number'>1</span>), <span class='number'>0b10</span>);
<span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;{:?}&quot;</span>, <span class='ident'>v</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>v</span>.<span class='ident'>swap_remove</span>(<span class='number'>0</span>), <span class='number'>0b11</span>);</pre>
</div><h4 id='method.append' class='method'><code>fn <a href='#method.append' class='fnname'>append</a>(&amp;mut self, other: &amp;mut Self)</code></h4>
<div class='docblock'><p>Moves all the elements of <code>other</code> into <code>Self</code>, leaving <code>other</code> empty.</p>

<h1 id='panics-5' class='section-header'><a href='#panics-5'>Panics</a></h1>
<p>Panics if the number of elements in the vector overflows a <code>usize</code>.</p>

<h1 id='examples-13' class='section-header'><a href='#examples-13'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>new</span>();
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>other</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>new</span>();
<span class='ident'>other</span>.<span class='ident'>resize</span>(<span class='number'>2</span>, <span class='number'>0b10</span>);
<span class='ident'>vec</span>.<span class='ident'>append</span>(<span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='ident'>other</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>len</span>(), <span class='number'>2</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>other</span>.<span class='ident'>len</span>(), <span class='number'>0</span>);</pre>
</div><h4 id='method.clear' class='method'><code>fn <a href='#method.clear' class='fnname'>clear</a>(&amp;mut self)</code></h4>
<div class='docblock'><p>Simplely sets the <code>len</code> as 0.</p>
</div><h4 id='method.len' class='method'><code>fn <a href='#method.len' class='fnname'>len</a>(&amp;self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a></code></h4>
<div class='docblock'><p>Returns the number of values.</p>
</div><h4 id='method.bits' class='method'><code>fn <a href='#method.bits' class='fnname'>bits</a>(&amp;self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a></code></h4>
<div class='docblock'><p>Returns the number of bits in current length.</p>

<p>It is related to the element numbers - not the capacity.</p>

<h1 id='examples-14' class='section-header'><a href='#examples-14'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>with_capacity</span>(<span class='number'>10</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>bits</span>(), <span class='number'>0</span>);</pre>
</div><h4 id='method.cap_bits' class='method'><code>fn <a href='#method.cap_bits' class='fnname'>cap_bits</a>(&amp;self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a></code></h4>
<div class='docblock'><p>Total bits in buf.</p>

<h1 id='examples-15' class='section-header'><a href='#examples-15'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>with_capacity</span>(<span class='number'>10</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>cap_bits</span>(), <span class='ident'>std</span>::<span class='ident'>mem</span>::<span class='ident'>size_of</span>::<span class='op'>&lt;</span><span class='ident'>usize</span><span class='op'>&gt;</span>() <span class='op'>*</span> <span class='number'>8</span>);</pre>
</div><h4 id='method.is_empty' class='method'><code>fn <a href='#method.is_empty' class='fnname'>is_empty</a>(&amp;self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<div class='docblock'><p>Returns whether or not the vector is empty.</p>

<p>Alias to <code>len() == 0</code>.</p>

<h1 id='examples-16' class='section-header'><a href='#examples-16'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>with_capacity</span>(<span class='number'>10</span>);
<span class='macro'>assert</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>is_empty</span>());</pre>
</div><h4 id='method.push' class='method'><code>fn <a href='#method.push' class='fnname'>push</a>(&amp;mut self, value: T::Block)</code></h4>
<div class='docblock'><p>Appends an element to the back of a collection.</p>

<h1 id='examples-17' class='section-header'><a href='#examples-17'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>new</span>();
<span class='ident'>vec</span>.<span class='ident'>push</span>(<span class='number'>0b10</span>);
<span class='ident'>vec</span>.<span class='ident'>push</span>(<span class='number'>0b01</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>len</span>(), <span class='number'>2</span>);</pre>
</div><h4 id='method.pop' class='method'><code>fn <a href='#method.pop' class='fnname'>pop</a>(&amp;mut self) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;T::Block&gt;</code></h4>
<div class='docblock'><p>Removes the last element from a vector and returns it, or <code>None</code> if it is empty.</p>

<h1 id='examples-18' class='section-header'><a href='#examples-18'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>new</span>();
<span class='ident'>vec</span>.<span class='ident'>push</span>(<span class='number'>0b10</span>);
<span class='ident'>vec</span>.<span class='ident'>push</span>(<span class='number'>0b11</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>pop</span>(), <span class='prelude-val'>Some</span>(<span class='number'>0b11</span>));
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>pop</span>(), <span class='prelude-val'>Some</span>(<span class='number'>0b10</span>));
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>len</span>(), <span class='number'>0</span>);</pre>
</div><h4 id='method.resize' class='method'><code>fn <a href='#method.resize' class='fnname'>resize</a>(&amp;mut self, new_len: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, value: T::Block)</code></h4>
<div class='docblock'><p>Resizes the Vec in-place so that len() is equal to new_len.</p>

<p>If new_len is greater than len(), the Vec is extended by the difference, with each
additional slot filled with value. If new_len is less than len(), the Vec is simply
truncated. Note that <code>resize</code> expand memeory will use <code>reserve_exact</code> method to
fit size.</p>

<h1 id='examples-19' class='section-header'><a href='#examples-19'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>new</span>();
<span class='ident'>vec</span>.<span class='ident'>resize</span>(<span class='number'>10</span>, <span class='number'>0</span>);</pre>
</div><h4 id='method.align' class='method'><code>fn <a href='#method.align' class='fnname'>align</a>(&amp;mut self, from: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, to: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>)</code></h4>
<div class='docblock'><p>Move a value flag from <code>from</code> to <code>to</code>, mask or zero the interval bits.</p>

<p>Indeed, it means to insert or remove <code>to - from</code> count of values.</p>

<p>Show what it does:</p>

<ul>
<li>from &lt; to:</li>
</ul>

<pre><code class="language-text">  - Before-align: -----1-------------0--------
                       |from         |to
  - After-align:  -----000000000000001--------------0------
                                     |`from`        |`to`
</code></pre>

<ul>
<li>from &gt; to:</li>
</ul>

<pre><code class="language-text">  - Before-align: -----1-------------0--------
                       |to           |from
  - After-align:  -----0--------
                       |from, to
</code></pre>

<h1 id='examples-20' class='section-header'><a href='#examples-20'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>new</span>();
<span class='comment'>// Prepare data.</span>
<span class='ident'>vec</span>.<span class='ident'>resize</span>(<span class='number'>24</span>, <span class='number'>0</span>);
<span class='ident'>vec</span>.<span class='ident'>fill</span>(<span class='number'>0</span>, <span class='number'>12</span>, <span class='number'>1</span>);
<span class='ident'>vec</span>.<span class='ident'>fill</span>(<span class='number'>12</span>, <span class='number'>12</span>, <span class='number'>2</span>);
<span class='comment'>// Left align will reduce the length.</span>
<span class='ident'>vec</span>.<span class='ident'>align</span>(<span class='number'>1</span>, <span class='number'>0</span>);
<span class='ident'>vec</span>.<span class='ident'>align</span>(<span class='number'>11</span>, <span class='number'>3</span>);
<span class='comment'>// Right align will expand the length.</span>
<span class='ident'>vec</span>.<span class='ident'>align</span>(<span class='number'>6</span>, <span class='number'>7</span>);
<span class='ident'>vec</span>.<span class='ident'>align</span>(<span class='number'>13</span>, <span class='number'>33</span>);
<span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;{:?}&quot;</span>, <span class='ident'>vec</span>);</pre>
</div><h4 id='method.fill' class='method'><code>fn <a href='#method.fill' class='fnname'>fill</a>(&amp;mut self, index: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, length: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, value: T::Block)</code></h4>
<div class='docblock'><p>Fill vector buf as <code>value</code> from <code>index</code> with size <code>length</code>.</p>

<h2 id='examples-21' class='section-header'><a href='#examples-21'>Examples</a></h2>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>new</span>();
<span class='ident'>vec</span>.<span class='ident'>resize</span>(<span class='number'>24</span>, <span class='number'>0</span>);
<span class='ident'>vec</span>.<span class='ident'>fill</span>(<span class='number'>1</span>, <span class='number'>2</span>, <span class='number'>2</span>); <span class='comment'>// length &lt; buf_unit</span>
<span class='ident'>vec</span>.<span class='ident'>fill</span>(<span class='number'>0</span>, <span class='number'>8</span>, <span class='number'>1</span>); <span class='comment'>// offset: 0, 0</span>
<span class='ident'>vec</span>.<span class='ident'>fill</span>(<span class='number'>7</span>, <span class='number'>10</span>, <span class='number'>2</span>); <span class='comment'>// offset: n, n</span>
<span class='ident'>vec</span>.<span class='ident'>fill</span>(<span class='number'>8</span>, <span class='number'>11</span>, <span class='number'>1</span>); <span class='comment'>// offset: 0, n</span></pre>
</div><h4 id='method.set' class='method'><code>fn <a href='#method.set' class='fnname'>set</a>(&amp;mut self, index: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, value: T::Block)</code></h4>
<div class='docblock'>
<h2 id='examples-22' class='section-header'><a href='#examples-22'>Examples</a></h2>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>with_capacity</span>(<span class='number'>10</span>);
<span class='kw'>unsafe</span> { <span class='ident'>vec</span>.<span class='ident'>set_len</span>(<span class='number'>2</span>) }
<span class='ident'>vec</span>.<span class='ident'>set</span>(<span class='number'>0</span>, <span class='number'>0b11</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>get</span>(<span class='number'>0</span>), <span class='number'>0b11</span>);</pre>
</div><h4 id='method.set_raw_bits' class='method'><code>unsafe fn <a href='#method.set_raw_bits' class='fnname'>set_raw_bits</a>(&amp;mut self, pos: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, length: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, value: T::Block)</code></h4>
<div class='docblock'><p>Set <code>length</code> bits of buf at <code>offset</code>th bit as <code>value</code>.</p>

<h2 id='unsafety' class='section-header'><a href='#unsafety'>Unsafety</a></h2>
<p><code>set_raw_bits</code> will not check the <code>offset</code>. Users should ensure to do this manually.</p>

<h2 id='panics-6' class='section-header'><a href='#panics-6'>Panics</a></h2>
<p>This method should panic while required <code>length</code> is longer than the buf unit bits size.</p>

<h2 id='examples-23' class='section-header'><a href='#examples-23'>Examples</a></h2>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>with_capacity</span>(<span class='number'>10</span>);

<span class='kw'>unsafe</span> {
    <span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;Set buf 0 as 1&quot;</span>);
    <span class='ident'>vec</span>.<span class='ident'>set_raw_bits</span>(<span class='number'>0</span>, <span class='number'>1</span>, <span class='number'>1</span>);
    <span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;Set buf bits [1, 2] as `10`&quot;</span>);
    <span class='ident'>vec</span>.<span class='ident'>set_raw_bits</span>(<span class='number'>1</span>, <span class='number'>2</span>, <span class='number'>2</span>);
    <span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;Set buf bits [3, 6] as `1010`&quot;</span>);
    <span class='ident'>vec</span>.<span class='ident'>set_raw_bits</span>(<span class='number'>3</span>, <span class='number'>4</span>, <span class='number'>0b1010</span>);
}
<span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;{:?}&quot;</span>, <span class='ident'>vec</span>);
<span class='kw'>unsafe</span> {
    <span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>get_raw_bits</span>(<span class='number'>0</span>, <span class='number'>1</span>), <span class='number'>1</span>);
    <span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>get_raw_bits</span>(<span class='number'>1</span>, <span class='number'>2</span>), <span class='number'>2</span>);
    <span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>get_raw_bits</span>(<span class='number'>3</span>, <span class='number'>4</span>), <span class='number'>0b1010</span>);
}</pre>
</div><h4 id='method.set_raw_bit' class='method'><code>unsafe fn <a href='#method.set_raw_bit' class='fnname'>set_raw_bit</a>(&amp;mut self, offset: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, bit: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>)</code></h4>
<div class='docblock'><p>Set buf unit bit at <code>index</code>th unit of <code>offset</code>bit.</p>
</div><h4 id='method.get' class='method'><code>fn <a href='#method.get' class='fnname'>get</a>(&amp;self, index: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>) -&gt; T::Block</code></h4>
<div class='docblock'><p>Get <code>N</code> bits value as <code>B</code>.</p>

<h2 id='examples-24' class='section-header'><a href='#examples-24'>Examples</a></h2>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>with_capacity</span>(<span class='number'>10</span>);
<span class='kw'>unsafe</span> { <span class='ident'>vec</span>.<span class='ident'>set_len</span>(<span class='number'>2</span>) }
<span class='ident'>vec</span>.<span class='ident'>set</span>(<span class='number'>0</span>, <span class='number'>0b11</span>);
<span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>get</span>(<span class='number'>0</span>), <span class='number'>0b11</span>);</pre>
</div><h4 id='method.get_raw_bits' class='method'><code>unsafe fn <a href='#method.get_raw_bits' class='fnname'>get_raw_bits</a>(&amp;self, pos: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, length: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>) -&gt; T::Block</code></h4>
<div class='docblock'><p>Get <code>length</code> bits of buf at <code>offset</code>th bit.</p>

<h1 id='unsafety-1' class='section-header'><a href='#unsafety-1'>Unsafety</a></h1>
<p><code>get_raw_bits</code> will not check the <code>offset</code>. Users should ensure to do this manually.</p>

<h1 id='panics-7' class='section-header'><a href='#panics-7'>Panics</a></h1>
<p>This method should panic while required <code>length</code> is longer than the buf unit bits size.</p>

<h1 id='examples-25' class='section-header'><a href='#examples-25'>Examples</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>vec</span>: <span class='ident'>NbitsVec</span><span class='op'>&lt;</span><span class='ident'>N2</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>NbitsVec</span>::<span class='ident'>new</span>();
<span class='ident'>vec</span>.<span class='ident'>resize</span>(<span class='number'>10</span>, <span class='number'>0</span>);
<span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;{:?}&quot;</span>, <span class='ident'>vec</span>);
<span class='kw'>for</span> <span class='ident'>i</span> <span class='kw'>in</span> <span class='number'>0</span>..<span class='number'>8</span> {
    <span class='kw'>unsafe</span> { <span class='ident'>vec</span>.<span class='ident'>set_raw_bit</span>(<span class='ident'>i</span>, <span class='kw'>if</span> <span class='ident'>i</span> <span class='op'>%</span> <span class='number'>2</span> <span class='op'>==</span> <span class='number'>0</span> { <span class='bool-val'>true</span> } <span class='kw'>else</span> { <span class='bool-val'>false</span> }); }
}
<span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;{:?}&quot;</span>, <span class='ident'>vec</span>);
<span class='kw'>unsafe</span> {
    <span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;Get buf bits at 0 with length 1&quot;</span>);
    <span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>get_raw_bits</span>(<span class='number'>0</span>, <span class='number'>1</span>), <span class='number'>1</span>);
    <span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;Get buf bits at 1 with length 2&quot;</span>);
    <span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>get_raw_bits</span>(<span class='number'>1</span>, <span class='number'>2</span>), <span class='number'>2</span>);
    <span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;Get buf bits at 3 with length 4&quot;</span>);
    <span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>vec</span>.<span class='ident'>get_raw_bits</span>(<span class='number'>3</span>, <span class='number'>4</span>), <span class='number'>0b1010</span>);
}</pre>
</div><h4 id='method.get_raw_bit' class='method'><code>unsafe fn <a href='#method.get_raw_bit' class='fnname'>get_raw_bit</a>(&amp;self, pos: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<div class='docblock'><p>Get raw bit at <code>pos</code>.</p>
</div><h4 id='method.raw_mut_ptr' class='method'><code>fn <a href='#method.raw_mut_ptr' class='fnname'>raw_mut_ptr</a>(&amp;mut self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.pointer.html'>*mut T::Block</a></code></h4>
<div class='docblock'><p>Returns mutable ptr of <code>T::Block</code>.</p>
</div><h4 id='method.raw_ptr' class='method'><code>fn <a href='#method.raw_ptr' class='fnname'>raw_ptr</a>(&amp;self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.pointer.html'>*const T::Block</a></code></h4>
<div class='docblock'><p>Returns ptr of <code>T::Block</code>.</p>
</div><h4 id='method.as_raw_slice' class='method'><code>fn <a href='#method.as_raw_slice' class='fnname'>as_raw_slice</a>(&amp;self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>&amp;[</a>T::Block<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a></code></h4>
<div class='docblock'><p>Return raw slice of <code>T::Block</code>.</p>
</div><h4 id='method.as_mut_raw_slice' class='method'><code>fn <a href='#method.as_mut_raw_slice' class='fnname'>as_mut_raw_slice</a>(&amp;mut self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>&amp;mut [</a>T::Block<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a></code></h4>
<div class='docblock'><p>Returns mutable raw slice of <code>T::Block</code>.</p>
</div><h4 id='method.into_raw_boxed_slice' class='method'><code>fn <a href='#method.into_raw_boxed_slice' class='fnname'>into_raw_boxed_slice</a>(self) -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html' title='alloc::boxed::Box'>Box</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>[</a>T::Block<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a>&gt;</code></h4>
<div class='docblock'><p>Returns raw boxed slice of <code>T::Block</code>.</p>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 class='impl'><span class='in-band'><code>impl&lt;T:&nbsp;<a class='trait' href='../nbits_vec/value/trait.ValueExt.html' title='nbits_vec::value::ValueExt'>ValueExt</a>&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/default/trait.Default.html' title='core::default::Default'>Default</a> for <a class='struct' href='../nbits_vec/struct.NbitsVec.html' title='nbits_vec::NbitsVec'>NbitsVec</a>&lt;T&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a id='src-838' class='srclink' href='../src/nbits_vec/src/lib.rs.html#1154-1163' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.default' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default' class='fnname'>default</a>() -&gt; Self</code></h4>
<div class='docblock'><p>Returns the &quot;default value&quot; for a type. <a href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default">Read more</a></p>
</div></div><h3 class='impl'><span class='in-band'><code>impl&lt;T:&nbsp;<a class='trait' href='../nbits_vec/value/trait.Value.html' title='nbits_vec::value::Value'>Value</a>&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html' title='core::fmt::Debug'>Debug</a> for <a class='struct' href='../nbits_vec/struct.NbitsVec.html' title='nbits_vec::NbitsVec'>NbitsVec</a>&lt;T&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a id='src-841' class='srclink' href='../src/nbits_vec/src/lib.rs.html#1165-1180' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.fmt' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt' class='fnname'>fmt</a>(&amp;self, f: &amp;mut <a class='struct' href='https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html' title='core::fmt::Formatter'>Formatter</a>) -&gt; <a class='type' href='https://doc.rust-lang.org/nightly/core/fmt/type.Result.html' title='core::fmt::Result'>Result</a></code></h4>
<div class='docblock'><p>Formats the value using the given formatter.</p>
</div></div><h3 class='impl'><span class='in-band'><code>impl&lt;T:&nbsp;<a class='trait' href='../nbits_vec/value/trait.ValueExt.html' title='nbits_vec::value::ValueExt'>ValueExt</a>&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html' title='core::hash::Hash'>Hash</a> for <a class='struct' href='../nbits_vec/struct.NbitsVec.html' title='nbits_vec::NbitsVec'>NbitsVec</a>&lt;T&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a id='src-860' class='srclink' href='../src/nbits_vec/src/lib.rs.html#1182-1187' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.hash' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html#tymethod.hash' class='fnname'>hash</a>&lt;H:&nbsp;<a class='trait' href='https://doc.rust-lang.org/nightly/core/hash/trait.Hasher.html' title='core::hash::Hasher'>Hasher</a>&gt;(&amp;self, state: &amp;mut H)</code></h4>
<div class='docblock'><p>Feeds this value into the state given, updating the hasher as necessary.</p>
</div><h4 id='method.hash_slice' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html#method.hash_slice' class='fnname'>hash_slice</a>&lt;H&gt;(data: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>&amp;[Self]</a>, state: &amp;mut H) <span class='where'>where H: <a class='trait' href='https://doc.rust-lang.org/nightly/core/hash/trait.Hasher.html' title='core::hash::Hasher'>Hasher</a></span></code><div class='since' title='Stable since Rust version 1.3.0'>1.3.0</div></h4>
<div class='docblock'><p>Feeds a slice of this type into the state provided.</p>
</div></div><h3 class='impl'><span class='in-band'><code>impl&lt;T:&nbsp;<a class='trait' href='../nbits_vec/value/trait.ValueExt.html' title='nbits_vec::value::ValueExt'>ValueExt</a>&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/cmp/trait.PartialEq.html' title='core::cmp::PartialEq'>PartialEq</a> for <a class='struct' href='../nbits_vec/struct.NbitsVec.html' title='nbits_vec::NbitsVec'>NbitsVec</a>&lt;T&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a id='src-866' class='srclink' href='../src/nbits_vec/src/lib.rs.html#1189-1198' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.eq' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/cmp/trait.PartialEq.html#tymethod.eq' class='fnname'>eq</a>(&amp;self, other: &amp;Self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<div class='docblock'><p>This method tests for <code>self</code> and <code>other</code> values to be equal, and is used by <code>==</code>. <a href="https://doc.rust-lang.org/nightly/core/cmp/trait.PartialEq.html#tymethod.eq">Read more</a></p>
</div><h4 id='method.ne' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/cmp/trait.PartialEq.html#method.ne' class='fnname'>ne</a>(&amp;self, other: &amp;Self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<div class='docblock'><p>This method tests for <code>!=</code>.</p>
</div></div><h3 class='impl'><span class='in-band'><code>impl&lt;T:&nbsp;<a class='trait' href='../nbits_vec/value/trait.ValueExt.html' title='nbits_vec::value::ValueExt'>ValueExt</a>&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/cmp/trait.Eq.html' title='core::cmp::Eq'>Eq</a> for <a class='struct' href='../nbits_vec/struct.NbitsVec.html' title='nbits_vec::NbitsVec'>NbitsVec</a>&lt;T&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a id='src-874' class='srclink' href='../src/nbits_vec/src/lib.rs.html#1200' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'></div><h3 class='impl'><span class='in-band'><code>impl&lt;T:&nbsp;<a class='trait' href='../nbits_vec/value/trait.ValueExt.html' title='nbits_vec::value::ValueExt'>ValueExt</a>&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html' title='core::clone::Clone'>Clone</a> for <a class='struct' href='../nbits_vec/struct.NbitsVec.html' title='nbits_vec::NbitsVec'>NbitsVec</a>&lt;T&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a id='src-876' class='srclink' href='../src/nbits_vec/src/lib.rs.html#1202-1211' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.clone' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone' class='fnname'>clone</a>(&amp;self) -&gt; Self</code></h4>
<div class='docblock'><p>Returns a copy of the value. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone">Read more</a></p>
</div><h4 id='method.clone_from' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from' class='fnname'>clone_from</a>(&amp;mut self, source: &amp;Self)</code><div class='since' title='Stable since Rust version 1.0.0'>1.0.0</div></h4>
<div class='docblock'><p>Performs copy-assignment from <code>source</code>. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from">Read more</a></p>
</div></div><h3 class='impl'><span class='in-band'><code>impl&lt;T:&nbsp;<a class='trait' href='../nbits_vec/value/trait.ValueExt.html' title='nbits_vec::value::ValueExt'>ValueExt</a>&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/cmp/trait.PartialOrd.html' title='core::cmp::PartialOrd'>PartialOrd</a> for <a class='struct' href='../nbits_vec/struct.NbitsVec.html' title='nbits_vec::NbitsVec'>NbitsVec</a>&lt;T&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a id='src-881' class='srclink' href='../src/nbits_vec/src/lib.rs.html#1213-1217' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.partial_cmp' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/cmp/trait.PartialOrd.html#tymethod.partial_cmp' class='fnname'>partial_cmp</a>(&amp;self, other: &amp;Self) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;<a class='enum' href='https://doc.rust-lang.org/nightly/core/cmp/enum.Ordering.html' title='core::cmp::Ordering'>Ordering</a>&gt;</code></h4>
<div class='docblock'><p>This method returns an ordering between <code>self</code> and <code>other</code> values if one exists. <a href="https://doc.rust-lang.org/nightly/core/cmp/trait.PartialOrd.html#tymethod.partial_cmp">Read more</a></p>
</div><h4 id='method.lt' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/cmp/trait.PartialOrd.html#method.lt' class='fnname'>lt</a>(&amp;self, other: &amp;Rhs) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code><div class='since' title='Stable since Rust version 1.0.0'>1.0.0</div></h4>
<div class='docblock'><p>This method tests less than (for <code>self</code> and <code>other</code>) and is used by the <code>&lt;</code> operator. <a href="https://doc.rust-lang.org/nightly/core/cmp/trait.PartialOrd.html#method.lt">Read more</a></p>
</div><h4 id='method.le' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/cmp/trait.PartialOrd.html#method.le' class='fnname'>le</a>(&amp;self, other: &amp;Rhs) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code><div class='since' title='Stable since Rust version 1.0.0'>1.0.0</div></h4>
<div class='docblock'><p>This method tests less than or equal to (for <code>self</code> and <code>other</code>) and is used by the <code>&lt;=</code> operator. <a href="https://doc.rust-lang.org/nightly/core/cmp/trait.PartialOrd.html#method.le">Read more</a></p>
</div><h4 id='method.gt' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/cmp/trait.PartialOrd.html#method.gt' class='fnname'>gt</a>(&amp;self, other: &amp;Rhs) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code><div class='since' title='Stable since Rust version 1.0.0'>1.0.0</div></h4>
<div class='docblock'><p>This method tests greater than (for <code>self</code> and <code>other</code>) and is used by the <code>&gt;</code> operator. <a href="https://doc.rust-lang.org/nightly/core/cmp/trait.PartialOrd.html#method.gt">Read more</a></p>
</div><h4 id='method.ge' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/cmp/trait.PartialOrd.html#method.ge' class='fnname'>ge</a>(&amp;self, other: &amp;Rhs) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code><div class='since' title='Stable since Rust version 1.0.0'>1.0.0</div></h4>
<div class='docblock'><p>This method tests greater than or equal to (for <code>self</code> and <code>other</code>) and is used by the <code>&gt;=</code> operator. <a href="https://doc.rust-lang.org/nightly/core/cmp/trait.PartialOrd.html#method.ge">Read more</a></p>
</div></div><h3 class='impl'><span class='in-band'><code>impl&lt;T:&nbsp;<a class='trait' href='../nbits_vec/value/trait.ValueExt.html' title='nbits_vec::value::ValueExt'>ValueExt</a>&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html' title='core::cmp::Ord'>Ord</a> for <a class='struct' href='../nbits_vec/struct.NbitsVec.html' title='nbits_vec::NbitsVec'>NbitsVec</a>&lt;T&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a id='src-886' class='srclink' href='../src/nbits_vec/src/lib.rs.html#1219-1223' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.cmp' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html#tymethod.cmp' class='fnname'>cmp</a>(&amp;self, other: &amp;Self) -&gt; <a class='enum' href='https://doc.rust-lang.org/nightly/core/cmp/enum.Ordering.html' title='core::cmp::Ordering'>Ordering</a></code></h4>
<div class='docblock'><p>This method returns an <code>Ordering</code> between <code>self</code> and <code>other</code>. <a href="https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html#tymethod.cmp">Read more</a></p>
</div></div><h3 class='impl'><span class='in-band'><code>impl&lt;T:&nbsp;<a class='trait' href='../nbits_vec/value/trait.ValueExt.html' title='nbits_vec::value::ValueExt'>ValueExt</a>&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> for <a class='struct' href='../nbits_vec/struct.NbitsVec.html' title='nbits_vec::NbitsVec'>NbitsVec</a>&lt;T&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a id='src-891' class='srclink' href='../src/nbits_vec/src/lib.rs.html#1225' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'></div><h3 class='impl'><span class='in-band'><code>impl&lt;T:&nbsp;<a class='trait' href='../nbits_vec/value/trait.ValueExt.html' title='nbits_vec::value::ValueExt'>ValueExt</a>&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html' title='core::marker::Sync'>Sync</a> for <a class='struct' href='../nbits_vec/struct.NbitsVec.html' title='nbits_vec::NbitsVec'>NbitsVec</a>&lt;T&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a id='src-893' class='srclink' href='../src/nbits_vec/src/lib.rs.html#1227' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "nbits_vec";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script defer src="../search-index.js"></script>
</body>
</html>